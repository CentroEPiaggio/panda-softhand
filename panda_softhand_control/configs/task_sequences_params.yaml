# Parameters for task sequencer
# Remember that there might be other important constants that can only be changed from the src code.

task_sequencer:
  # Name of the robot
  robot_name: panda_arm
  # Name of the robot joints (without the number of the joints)
  robot_joints_name: panda_joint
  # Position controller
  pos_controller: position_joint_trajectory_controller
  # Impedance controller
  imp_controller: cartesian_impedance_controller_softbots_stiff_matrix
  # Name of the topic where the object pose is published (grasping)
  object_topic_name: /grasping/chosen_object



  ################## PREGRASP AND GRASP TRANSFORM ##############################
  # Transform from object frame to grasp pose frame (xyzrpy) (DEFAULT)
  # grasp_transform: [-0.04, -0.04, 0.145, -3.1415, 0.0, 0.0] (default)



  ################# PREVACUUM JOINTS CONFIGURATION AND VACUUM TRANSFORM ########
  # # Transform from object frame to vacuum pose frame (xyzrpy) (DEFAULT)
  # vacuum_transform: [0.605, -0.202, 0.380, 1.600, -0.042, -0.207]
  # # Transform from grasp pose frame to pre-grasp pose frame (xyzrpy)
  # pre_vacuum_transform: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
  
  pre_throwing_joints: [0.5541404542551751, 0.19007389494425606, -0.3473133880984834, -1.623168554762002, -0.007964679874295793, 1.806158020655314, 0.20244464170578372]
  
  # The personalized place joints maps for different prethrowing joint configurations

  pre_throwing_joints_map:
    "object2" : [0.3036950333152679, 0.2684377161580104, -0.2577416164285826, -1.5027883396669206, -1.5538190626435808, 1.7688275682866192, 0.18637837640335386]
    
  
  vacuum_transform: [0.765, 0.106, 0.281, 1.532, 0.042, 0.438]
  
  ############### JOINT THROWING CONFIGURATION ################################
  
  throwing_joints: [0.22192922823429168, 0.31658566300354113, -0.3053100136079347, -1.5176302940279485, 1.6006669440477033, 1.5463016421905607, 0.4057245869903457]

  pre_throwing_transform: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
  throwing_transform: [0.647, 0.131, 0.644, -1.700, 0.775, -0.110]


  duty_cycle: 255

 
  # The joint configuration for handover
  handover_joints: [0.07661606385153637, 0.33422404886526574, 0.150294620860357, -1.1043230171470189, -0.05647621116425888, 1.5700528297424314, 0.061656965438109404]
  # The threshold on tau_ext for handover hand opening
  handover_thresh: 1.0

  # The personalized grasp pose maps for different objects
  poses_map:
    "oggetto_darko" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]
    "green" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]
    "blue" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]
    "black" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]
    "white" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]
    "other" : [-0.085, 0.005, 0.008, -3.039, -0.185, -0.166]


  # DARKO: Update map for throwing different objects

  duty_cycle_map:
    "object1" : 70
    "object2" : 70
    "object3" : 50
    "object4" : 50

  vacuum_pose_map:
    "object1" : [0.603, 0.269, 0.656, -0.929, 0.045, 0.079]
    "object2" : [0.502, 0.259, 0.625, -1.005, -0.078, 0.165]
    "object3" : [0.433, 0.536, 0.221, 1.558, 0.062, 1.224]
    "object4" : [0.432, 0.446, 0.237, 1.566, 0.080, 1.133]
  
  pre_vacuum_transform: [0.0, -0.25, 0.0, 0.0, 0.0, 0.0]

  throwing_joints_map: 
    "object1" : [-0.6684238093870994, -0.2419590148867541, -0.43571078770367855, -1.6294342103093609, -0.769650630818473, 1.0984773468733786, 0.36617202588215436]
    "object2" : [-0.05117433146126452, -0.03756768579970484, -0.023740125512052235, -1.4897937697309984, -0.5575044296847449, 1.4274782130498305, 0.325944593263997]
    "object3" : [-0.20103230629839564, -0.049230569687336405, 0.4853486180166055, -1.8066252768925952, 1.5452409784419885, 1.9722845643285272, 1.2036402801592104]
    "object4" : [-0.33103230629839564, -0.049230569687336405, 0.4853486180166055, -1.8066252768925952, 1.5452409784419885, 1.9722845643285272, 1.0036402801592104]
 
  # The joint configuration for place
  place_joints: [-0.09824950882635618, -0.30334255172276736, -0.03021047280828436, -1.7908154854946685, 1.574275055864808, 1.504429094829493, 0.1080258056587643]

  # The personalized place joints maps for updating place_joints (above)
   
  place_joints_map:
    "first" :  [-0.054998204314917844, -0.7533431742818731, -0.04672313867782647, -2.107690469720237, 0.6931008444925145, 1.0550451371276561, 0.3587897929900196]
    "second" : [-0.09824950882635618, -0.30334255172276736, -0.03021047280828436, -1.7908154854946685, 1.574275055864808, 1.504429094829493, 0.1080258056587643]

  replace_hand_tool : [0.161, 0.408, 0.819, -1.606, 0.100, -0.200]
  pre_replace_hand_tool: [0.0, 0.0, -0.13, 0.0, 0.0, 0.0]
  
  # Position and RPY for grasping the hand-tool

  grasp_transform: [0.157, 0.400, 0.816, -1.585, 0.041, -0.050]

  # Transform from grasp pose frame to pre-grasp pose frame (xyzrpy)
  pre_grasp_transform: [0.0, 0.0, -0.13, 0.0, 0.0, 0.0]

  # The joint configuration for home
  home_joints: [-0.4429195803978661, -0.26125127614590166, -0.14724998545903098, -1.9577724899319273, 0.030517918343345322, 1.0874899134190936, 0.11406876441439354] 
